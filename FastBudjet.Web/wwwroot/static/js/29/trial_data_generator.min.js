/*
 Copyright ?2018-2021 AppFer S.R.L. - All rights reserved. */
'use strict'; function Ua() { T.transactions.orderBy("date").last(a => { a ? a.date < Date.now() - 2592E5 && Pb().then(xe) : xe() }).catch(() => { Pb().then(xe) }).finally(() => { ge(); window.setTimeout(() => { Oa = Promise.resolve() }, 200) }) }
function xe() {
    const a = Date.now(); var b = gb(); p.is_debug && (b = "EUR - \u20ac"); E("defCurrencyAndSign", b); b = b.split("-"); R = b[0].trim(); E("defCurrency", R); E("defCurrencySign", b[1].trim()); var c = M("defCurrencyAndSign", "EUR - \u20ac"); b = 1; switch (w.substring(0, 2)) {
        default: case "en": var d = "Bank account"; break; case "it": d = "Conto bancario"; break; case "pt": d = "Conta banc\u00e1ria"; "pt-pt" !== w.toLowerCase() && (b = 2); break; case "de": d = "Bankkonto"; break; case "fr": d = "Compte bancaire"; break; case "es": d = "Cuenta bancaria";
            break; case "nl": d = "Bankrekening"; break; case "pl": d = "Konto bankowe"; b = 3; break; case "cs": d = "Bankovn\u00ed \u00fa\u010det"; b = 20; break; case "ru": d = "\u0431\u0430\u043d\u043a\u043e\u0432\u0441\u043a\u0438\u0439 \u0441\u0447\u0435\u0442"; b = 50; break; case "th": d = "\u0e1a\u0e31\u0e0d\u0e0a\u0e35\u0e18\u0e19\u0e32\u0e04\u0e32\u0e23"; b = 25; break; case "id": d = "Akun bank"; b = 8E3; break; case "ms": d = "Akaun bank"; b = 25; break; case "vi": d = "T\u00e0i kho\u1ea3n ng\u00e2n h\u00e0ng", b = 12E3
    }var e = b, f = d; T.accounts.put({
        id: "aaa",
        name: p.wallet, notes: "", isoCurrency: c, creationDate: a - 7776E6, exchangeRate: 1, autoExRate: 0, initialFunds: 0, position: 1, visibility: 1
    }); null != f && (T.accounts.put({ id: "aab", name: f, notes: "", isoCurrency: c, creationDate: a - 7776E6, exchangeRate: 1, autoExRate: 0, initialFunds: 1E4 * e, position: 2, visibility: 1 }), T.creditCards.put({
        id: "abc", name: p.credit_card, associatedAccount: f, notes: "", isoCurrency: c, creationDate: a - 2592E6, limit: 1E3 * e, interestRate: 0, paymentDay: 5, lastPaymentDate: a - 2592E6, startingDay: 1, exchangeRate: 1, position: 1,
        visibility: 1
    })); T.categories.put({ id: "catIm1", name: p.financial_income, iconName: "ic_bank", parentId: "", ei: 1, position: 1 }); T.categories.put({ id: "catIs11", name: p.financial_income, iconName: "ic_bank", parentId: "catIm1", ei: 1, position: 1 }); T.categories.put({ id: "catIm2", name: p.income, iconName: "ic_base_incomes", parentId: "", ei: 1, position: 2 }); T.categories.put({ id: "catIs21", name: p.salary, iconName: "ic_workbag", parentId: "catIm2", ei: 1, position: 1 }); T.categories.put({
        id: "catIs22", name: p.odd_jobs, iconName: "ic_tools", parentId: "catIm2",
        ei: 1, position: 2
    }); T.categories.put({ id: "catIs23", name: p.pension, iconName: "ic_old_man", parentId: "catIm2", ei: 1, position: 3 }); T.categories.put({ id: "catIm3", name: p.other + " (" + p.income + ")", iconName: "ic_sheet_green", parentId: "", ei: 1, position: 3 }); T.categories.put({ id: "catIs31", name: p.other + " (" + p.income + ")", iconName: "ic_sheet_green", parentId: "catIm3", ei: 1, position: 1 }); T.categories.put({ id: "catIs32", name: p.personal_savings, iconName: "ic_piggy_bank", parentId: "catIm3", ei: 1, position: 2 }); T.categories.put({
        id: "catEm1",
        name: p.food + "/" + p.drinks, iconName: "ic_shopping_cart", parentId: "", ei: 0, position: 1
    }); T.categories.put({ id: "catEs11", name: p.food + "/" + p.drinks, iconName: "ic_shopping_cart", parentId: "catEm1", ei: 0, position: 1 }); T.categories.put({ id: "catEs12", name: p.eating_out, iconName: "ic_plate_fork_knife", parentId: "catEm1", ei: 0, position: 2 }); T.categories.put({ id: "catEs13", name: p.bar, iconName: "ic_cup", parentId: "catEm1", ei: 0, position: 3 }); T.categories.put({
        id: "catEm2", name: p.shopping, iconName: "ic_base_shopping", parentId: "",
        ei: 0, position: 2
    }); T.categories.put({ id: "catEs21", name: p.shopping, iconName: "ic_base_shopping", parentId: "catEm2", ei: 0, position: 1 }); T.categories.put({ id: "catEs22", name: p.clothing, iconName: "ic_t_shirt", parentId: "catEm2", ei: 0, position: 2 }); T.categories.put({ id: "catEs23", name: p.shoes, iconName: "ic_shoe", parentId: "catEm2", ei: 0, position: 3 }); T.categories.put({ id: "catEs24", name: p.technology, iconName: "ic_hard_drive", parentId: "catEm2", ei: 0, position: 4 }); T.categories.put({
        id: "catEs25", name: p.gifts, iconName: "ic_gift",
        parentId: "catEm2", ei: 0, position: 5
    }); T.categories.put({ id: "catEm3", name: p.transports, iconName: "ic_coach", parentId: "", ei: 0, position: 3 }); T.categories.put({ id: "catEs31", name: p.transports, iconName: "ic_coach", parentId: "catEm3", ei: 0, position: 1 }); T.categories.put({ id: "catEs32", name: p.car, iconName: "ic_car", parentId: "catEm3", ei: 0, position: 2 }); T.categories.put({ id: "catEs33", name: p.fuel, iconName: "ic_fuel", parentId: "catEm3", ei: 0, position: 3 }); T.categories.put({
        id: "catEs34", name: p.insurance, iconName: "ic_umbrella",
        parentId: "catEm3", ei: 0, position: 4
    }); T.categories.put({ id: "catEm4", name: p.entertainment, iconName: "ic_party_hat", parentId: "", ei: 0, position: 4 }); T.categories.put({ id: "catEs41", name: p.entertainment, iconName: "ic_party_hat", parentId: "catEm4", ei: 0, position: 1 }); T.categories.put({ id: "catEs42", name: p.books_magazines, iconName: "ic_journal", parentId: "catEm4", ei: 0, position: 2 }); T.categories.put({ id: "catEm5", name: p.family, iconName: "ic_family", parentId: "", ei: 0, position: 5 }); T.categories.put({
        id: "catEs51", name: p.family,
        iconName: "ic_family", parentId: "catEm5", ei: 0, position: 1
    }); T.categories.put({ id: "catEs52", name: p.children, iconName: "ic_pacifier", parentId: "catEm5", ei: 0, position: 2 }); T.categories.put({ id: "catEs53", name: p.home, iconName: "ic_home", parentId: "catEm5", ei: 0, position: 3 }); T.categories.put({ id: "catEs54", name: p.rent, iconName: "ic_house_rent", parentId: "catEm5", ei: 0, position: 4 }); T.categories.put({ id: "catEm6", name: p.health + "/" + p.sport, iconName: "ic_base_health", parentId: "", ei: 0, position: 6 }); T.categories.put({
        id: "catEs61",
        name: p.health, iconName: "ic_health", parentId: "catEm6", ei: 0, position: 1
    }); T.categories.put({ id: "catEs62", name: p.sport, iconName: "ic_weights", parentId: "catEm6", ei: 0, position: 1 }); T.categories.put({ id: "catEm7", name: p.pets, iconName: "ic_footprint", parentId: "", ei: 0, position: 7 }); T.categories.put({ id: "catEs71", name: p.pets, iconName: "ic_footprint", parentId: "catEm7", ei: 0, position: 1 }); T.categories.put({ id: "catEs72", name: p.food + " - " + p.pets, iconName: "ic_base_pet_food", parentId: "catEm7", ei: 0, position: 2 }); T.categories.put({
        id: "catEm8",
        name: p.travels, iconName: "ic_plane", parentId: "", ei: 0, position: 8
    }); T.categories.put({ id: "catEs81", name: p.travels, iconName: "ic_plane", parentId: "catEm8", ei: 0, position: 1 }); T.categories.put({ id: "catEs82", name: p.accommodation, iconName: "ic_bed", parentId: "catEm8", ei: 0, position: 2 }); T.categories.put({ id: "catEs83", name: p.transports + " - " + p.travels, iconName: "ic_coach", parentId: "catEm8", ei: 0, position: 3 }); T.categories.put({ id: "catEm9", name: p.other + " (" + p.expenses + ")", iconName: "ic_sheet_red", parentId: "", ei: 0, position: 9 });
    T.categories.put({ id: "catEs91", name: p.other + " (" + p.expenses + ")", iconName: "ic_sheet_red", parentId: "catEm9", ei: 0, position: 1 }); T.categories.put({ id: "catEs92", name: p.taxes, iconName: "ic_courthouse", parentId: "catEm9", ei: 0, position: 2 }); T.categories.put({ id: "catEs93", name: p.cigarettes, iconName: "ic_cigarette", parentId: "catEm9", ei: 0, position: 2 }); c = b; e = d; f = 0; T.transactions.put({ id: "tra" + f, category: p.odd_jobs, account: p.wallet, fromTo: "", notes: "", ei: 1, value: 30 * c, date: a - 432E6, checked: 1, addedFrom: "" }); f++; T.transactions.put({
        id: "tra" +
            f, category: p.salary, account: e || p.wallet, fromTo: "Alex", notes: "....", ei: 1, value: 1270 * c, date: a - 864E6, checked: 0, addedFrom: ""
    }); f++; T.transactions.put({ id: "tra" + f, category: p.other + " (" + p.income + ")", account: p.wallet, fromTo: "Mark", notes: "", ei: 1, value: 120 * c, date: a - 1728E6, checked: 0, addedFrom: "" }); f++; T.transactions.put({ id: "tra" + f, category: p.salary, account: e || p.wallet, fromTo: "Alex", notes: "....", ei: 1, value: 1310 * c, date: a - 3456E6, checked: 0, addedFrom: "" }); f++; T.transactions.put({
        id: "tra" + f, category: p.odd_jobs,
        account: p.wallet, fromTo: "", notes: "", ei: 1, value: 70 * c, date: a - 37152E5, checked: 0, addedFrom: ""
    }); f++; T.transactions.put({ id: "tra" + f, category: p.salary, account: e || p.wallet, fromTo: "Alex", notes: "....", ei: 1, value: 1289 * c, date: a - 6048E6, checked: 0, addedFrom: "" }); f++; T.transactions.put({ id: "tra" + f, category: p.bar, account: p.wallet, fromTo: "", notes: "", ei: 0, value: 1.1 * c, date: a, checked: 0, addedFrom: "" }); f++; T.transactions.put({
        id: "tra" + f, category: p.eating_out, account: p.credit_card, fromTo: "", notes: "", ei: 0, value: 12 * c, date: a -
            864E5, checked: 1, addedFrom: ""
    }); f++; T.transactions.put({ id: "tra" + f, category: p.entertainment, account: p.wallet, fromTo: "", notes: "", ei: 0, value: 8 * c, date: a - 1728E5, checked: 0, addedFrom: "" }); f++; T.transactions.put({ id: "tra" + f, category: p.shopping, account: p.wallet, fromTo: "", notes: "", ei: 0, value: 24.78 * c, date: a - 1728E5, addedFrom: "" }); f++; T.transactions.put({ id: "tra" + f, category: p.fuel, account: p.wallet, fromTo: "", notes: "", ei: 0, value: 30 * c, date: a - 2592E5, checked: 0, addedFrom: "" }); f++; T.transactions.put({
        id: "tra" + f, category: p.clothing,
        account: p.wallet, fromTo: "", notes: "", ei: 0, value: 26 * c, date: a - 3456E5, checked: 0, addedFrom: ""
    }); f++; T.transactions.put({ id: "tra" + f, category: p.eating_out, account: p.wallet, fromTo: "", notes: "", ei: 0, value: 13.5 * c, date: a - 432E6, checked: 0, addedFrom: "" }); f++; T.transactions.put({ id: "tra" + f, category: p.technology, account: e || p.wallet, fromTo: "", notes: "", ei: 0, value: 120 * c, date: a - 5184E5, checked: 0, addedFrom: "" }); f++; T.transactions.put({
        id: "tra" + f, category: p.bar, account: p.wallet, fromTo: "", notes: "", ei: 0, value: 2.5 * c, date: a -
            6048E5, checked: 0, addedFrom: ""
    }); f++; T.transactions.put({ id: "tra" + f, category: p.gifts, account: p.credit_card, fromTo: "", notes: "", ei: 0, value: 15 * c, date: a - 6912E5, checked: 0, addedFrom: "" }); f++; T.transactions.put({ id: "tra" + f, category: p.books_magazines, account: p.wallet, fromTo: "", notes: "", ei: 0, value: 3 * c, date: a - 864E6, checked: 0, addedFrom: "" }); f++; T.transactions.put({ id: "tra" + f, category: p.other + " (" + p.expenses + ")", account: e || p.wallet, fromTo: "", notes: "", ei: 0, value: 17 * c, date: a - 10368E5, checked: 0, addedFrom: "" }); f++;
    T.transactions.put({ id: "tra" + f, category: p.transports, account: p.wallet, fromTo: "", notes: "", ei: 0, value: 2 * c, date: a - 1296E6, checked: 0, addedFrom: "" }); f++; T.transactions.put({ id: "tra" + f, category: p.bar, account: p.wallet, fromTo: "", notes: "", ei: 0, value: 1.1 * c, date: a - 13824E5, checked: 0, addedFrom: "" }); f++; T.transactions.put({ id: "tra" + f, category: p.entertainment, account: p.wallet, fromTo: "", notes: "", ei: 0, value: 11 * c, date: a - 13824E5, checked: 0, addedFrom: "" }); f++; T.transactions.put({
        id: "tra" + f, category: p.home, account: p.wallet,
        fromTo: "", notes: "", ei: 0, value: 7 * c, date: a - 16416E5, checked: 0, addedFrom: ""
    }); f++; T.transactions.put({ id: "tra" + f, category: p.eating_out, account: p.wallet, fromTo: "", notes: "", ei: 0, value: 8 * c, date: a - 19008E5, checked: 0, addedFrom: "" }); f++; T.transactions.put({ id: "tra" + f, category: p.shopping, account: p.wallet, fromTo: "", notes: "", ei: 0, value: 43.76 * c, date: a - 24192E5, checked: 0, addedFrom: "" }); f++; T.transactions.put({
        id: "tra" + f, category: p.shoes, account: p.credit_card, fromTo: "", notes: "", ei: 0, value: 45 * c, date: a - 28512E5, checked: 0,
        addedFrom: ""
    }); f++; T.transactions.put({ id: "tra" + f, category: p.eating_out, account: p.wallet, fromTo: "", notes: "", ei: 0, value: 16 * c, date: a - 31104E5, checked: 0, addedFrom: "" }); f++; T.transactions.put({ id: "tra" + f, category: p.taxes, account: e || p.wallet, fromTo: "", notes: "", ei: 0, value: 1137.15 * c, date: a - 36288E5, checked: 0, addedFrom: "" }); f++; T.transactions.put({ id: "tra" + f, category: p.transports, account: p.wallet, fromTo: "", notes: "", ei: 0, value: 32 * c, date: a - 44064E5, checked: 0, addedFrom: "" }); null != e && (T.transactions.put({
        id: "transferA",
        category: "Transfer between accounts", account: p.wallet, fromTo: e, notes: "", ei: 1, value: 100 * c, date: a - 864E6, checked: 0, addedFrom: ""
    }), T.transactions.put({ id: "transferB", category: "Transfer between accounts", account: e, fromTo: p.wallet, notes: "", ei: 0, value: 100 * c, date: a - 864E6, checked: 0, addedFrom: "" })); c = b; e = 0; T.scheduledTransaction.put({ id: "st" + e, category: p.home, account: d, fromTo: "", notes: "", photoName: "", addedFrom: "", ei: 0, value: 30 * c, nextDate: a - 432E6, numberOfRepeat: 5, period: 2, repeatEvery: 1 }); e++; T.scheduledTransaction.put({
        id: "st" +
            e, category: p.other + " (" + p.expenses + ")", account: p.wallet, fromTo: "", notes: "", photoName: "", addedFrom: "", ei: 0, value: 100 * c, nextDate: a - 864E6, numberOfRepeat: 3, period: 3, repeatEvery: 1
    }); d = b; T.transactionTemplates.put({ id: "trt1", name: p.bar, category: p.bar, account: p.wallet, fromTo: "", notes: "", ei: 0, value: d, position: 1 }); T.transactionTemplates.put({ id: "trt2", name: p.eating_out, category: p.eating_out, account: p.wallet, fromTo: "", notes: "", ei: 0, value: 15 * d, position: 2 }); T.transactionTemplates.put({
        id: "trt3", name: p.transports,
        category: p.transports, account: p.wallet, fromTo: "", notes: "", ei: 0, value: 2 * d, position: 3
    }); d = b; T.budgets.put({ id: "bu0", name: p.entertainment, category: p.entertainment, iconName: "", period: 0, maxValue: 15 * d, position: 1 }); T.budgets.put({ id: "bu1", name: p.eating_out, category: p.eating_out, iconName: "", period: 1, maxValue: 50 * d, position: 1 }); T.budgets.put({ id: "bu2", name: p.fuel, category: p.fuel, iconName: "", period: 1, maxValue: 100 * d, position: 2 }); T.debts.put({
        id: "debt1", account: p.wallet, fromTo: "Bob", notes: "", relatedTransactionIds: "",
        type: 1, value: 100 * b, repaidAmount: 0, date: a - 864E6, paybackDate: a + 3456E6, position: 1
    })
} function ge() { new Promise(a => { T.accounts.toArray(b => { let c = []; b.forEach(d => { d = ye(d.name, d.initialFunds); c.push(d) }); Promise.all(c).then(() => a()) }) }) } function ye(a, b) { let c = 0; return T.transactions.where(["account", "date"]).between([a, 0], [a, 9999999999999], !0, !0).each(d => { c += 0 === parseInt(d.ei) ? -d.value : +d.value }).then(() => { V.set(a, c + b) }).catch(() => { V.delete(a) }) } function Y(a, b, c) { V.set(b, c); return Promise.resolve() }
function db(a, b) { return new Promise(function (c) { E("transactionsSyncFromTs", b); c() }) } function Od() { return Promise.resolve() };
